{% extends "base.html" %}

{% block title %}{{ 'Edit' if category else 'Add' }} Category - Home Cookbook{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-lg-6">
        <h1 class="mb-4">
            <i class="bi bi-{{ 'pencil' if category else 'plus-lg' }} me-2"></i>
            {{ 'Edit Category' if category else 'Add New Category' }}
        </h1>

        <form method="POST">
            <div class="card">
                <div class="card-body">
                    <div class="mb-3">
                        <label for="name" class="form-label">Category Name <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="name" name="name"
                               value="{{ category.name if category else '' }}" required
                               placeholder="e.g., Breakfast, Desserts, Appetizers">
                    </div>

                    <div class="mb-3">
                        <label for="description" class="form-label">Description</label>
                        <textarea class="form-control" id="description" name="description" rows="2"
                                  placeholder="Optional description for this category">{{ category.description if category else '' }}</textarea>
                    </div>

                    <div class="mb-3">
                        <label for="sort_order" class="form-label">Sort Order</label>
                        <input type="number" class="form-control" id="sort_order" name="sort_order"
                               value="{{ category.sort_order if category else 0 }}"
                               placeholder="Lower numbers appear first">
                        <small class="text-muted">Categories are sorted by this number, then alphabetically.</small>
                    </div>
                </div>
            </div>

            <div class="d-flex gap-2 mt-4">
                <button type="submit" class="btn btn-primary">
                    <i class="bi bi-check-lg me-1"></i>Save Category
                </button>
                <a href="{{ url_for('categories.index') }}" class="btn btn-outline-secondary">
                    Cancel
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
